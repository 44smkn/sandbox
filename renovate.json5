{
  extends: ["config:base"],
  packageRules: [
    {
      "additionalBranchPrefix": "{{packageFileDir}}-",
      "matchPaths": [
        "system-components/overlays/**",
      ],
      "commitMessageSuffix": "({{packageFileDir}})"
    },
  ],
  "regexManagers": [
    // kustomiztion.yaml
    {
      "fileMatch": ["^.*/kustomization.yaml$"],
      "matchStrings": [
        // external reference
        "https://raw.githubusercontent.com/(?<depName>[^/]+/[^/]+?)/(?<currentValue>[^/]+)/",
        "https://github.com/(?<depName>.*?)/releases/download/(?<currentValue>[^/]+)/",
        // image tag is replaced in kustomization.yaml
        "newTag: (?<currentValue>.*?) # renovate: depName=(?<depName>.*?)\\n"
      ],
      "datasourceTemplate": "github-releases"
    },
    {
      "fileMatch": ["^.*/aws-secret-operator/kustomization.yaml$"],
      "matchStrings": [
        "newTag: (?<currentValue>.*?) # renovate: depName=(?<depName>.*?)\\n"
      ],
      "extractVersion": "^v(?<version>.*)$",
      "datasourceTemplate": "github-releases"
    },
  ]
}
